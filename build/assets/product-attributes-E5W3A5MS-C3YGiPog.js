import{C as p}from"./chunk-FLW5D3SP-2BTcEG50.js";import{d as y,e as w}from"./chunk-YBHG7T6S-BleHOTgO.js";import{v as _,u as b,j as e,H as C,I as h}from"./index-7A3rjJyE.js";import{a,u as F}from"./chunk-BHGSRQH6-2xCUuk1R.js";import{u as E,F as r}from"./chunk-C7RYT3S3-C_x8NvOf.js";import{t as I}from"./zod-DRKIF09R.js";import{u as L,s as x,n as M,o as N}from"./index-yuYasa5Y.js";import{B as f}from"./label-DDCdtDlT.js";import"./triangles-mini-JWkpofVU.js";import"./chunk-DMYZ6SLX-BMyt3Z-P.js";import"./prompt-KZNvJYzq.js";var m=L([x(),M()]).transform(n=>n===""?null:Number(n)).optional().nullable(),S=N({weight:m,length:m,width:m,height:m,mid_code:x().optional(),hs_code:x().optional(),origin_country:x().optional()}),P=({product:n})=>{const{t:i}=b(),{handleSuccess:u}=F(),l=E({defaultValues:{height:n.height?n.height:null,width:n.width?n.width:null,length:n.length?n.length:null,weight:n.weight?n.weight:null,mid_code:n.mid_code||"",hs_code:n.hs_code||"",origin_country:n.origin_country||""},resolver:I(S)}),{mutateAsync:j,isLoading:g}=w(n.id),v=l.handleSubmit(async s=>{await j({weight:s.weight?s.weight:void 0,length:s.length?s.length:void 0,width:s.width?s.width:void 0,height:s.height?s.height:void 0,mid_code:s.mid_code,hs_code:s.hs_code,origin_country:s.origin_country},{onSuccess:()=>{u()}})});return e.jsx(a.Form,{form:l,children:e.jsxs("form",{onSubmit:v,className:"flex h-full flex-col",children:[e.jsx(a.Body,{children:e.jsx("div",{className:"flex h-full flex-col gap-y-8",children:e.jsxs("div",{className:"flex flex-col gap-y-4",children:[e.jsx(r.Field,{control:l.control,name:"width",render:({field:{onChange:s,value:o,...d}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{children:i("fields.width")}),e.jsx(r.Control,{children:e.jsx(h,{type:"number",min:0,value:o||"",onChange:c=>{const t=c.target.value;s(t===""?null:parseFloat(t))},...d})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:l.control,name:"height",render:({field:{onChange:s,value:o,...d}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{children:i("fields.height")}),e.jsx(r.Control,{children:e.jsx(h,{type:"number",min:0,value:o||"",onChange:c=>{const t=c.target.value;s(t===""?null:Number(t))},...d})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:l.control,name:"length",render:({field:{onChange:s,value:o,...d}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{children:i("fields.length")}),e.jsx(r.Control,{children:e.jsx(h,{type:"number",min:0,value:o||"",onChange:c=>{const t=c.target.value;s(t===""?null:Number(t))},...d})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:l.control,name:"weight",render:({field:{onChange:s,value:o,...d}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{children:i("fields.weight")}),e.jsx(r.Control,{children:e.jsx(h,{type:"number",min:0,value:o||"",onChange:c=>{const t=c.target.value;s(t===""?null:Number(t))},...d})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:l.control,name:"mid_code",render:({field:s})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{children:i("fields.midCode")}),e.jsx(r.Control,{children:e.jsx(h,{...s})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:l.control,name:"hs_code",render:({field:s})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{children:i("fields.hsCode")}),e.jsx(r.Control,{children:e.jsx(h,{...s})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:l.control,name:"origin_country",render:({field:s})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{children:i("fields.countryOfOrigin")}),e.jsx(r.Control,{children:e.jsx(p,{...s})}),e.jsx(r.ErrorMessage,{})]})})]})})}),e.jsx(a.Footer,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(a.Close,{asChild:!0,children:e.jsx(f,{size:"small",variant:"secondary",children:i("actions.cancel")})}),e.jsx(f,{size:"small",type:"submit",isLoading:g,children:i("actions.save")})]})})]})})},k=()=>{const{id:n}=_(),{t:i}=b(),{product:u,isLoading:l,isError:j,error:g}=y(n);if(j)throw g;return e.jsxs(a,{children:[e.jsx(a.Header,{children:e.jsx(C,{children:i("products.editAttributes")})}),!l&&u&&e.jsx(P,{product:u})]})};export{k as Component};
