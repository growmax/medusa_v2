import{F as ee}from"./chunk-C7RYT3S3-C_x8NvOf.js";import{r as a,bg as ae,bh as te,g as m,bj as re,bn as C,n as oe,bG as se,aK as ne,bl as le,bp as de,bH as ce,bm as ie,bI as c,j as s,b as y,u as ue,bJ as pe}from"./index-7A3rjJyE.js";import{P as f}from"./prompt-KZNvJYzq.js";const b=e=>a.createElement(de,{...e});b.displayName="FocusModal";const M=a.forwardRef((e,t)=>a.createElement(ae,{ref:t,...e}));M.displayName="FocusModal.Trigger";const h=C;h.displayName="FocusModal.Close";const x=e=>a.createElement(ce,{...e});x.displayName="FocusModal.Portal";const N=a.forwardRef(({className:e,...t},r)=>a.createElement(te,{ref:r,className:m("bg-ui-bg-overlay fixed inset-0","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));N.displayName="FocusModal.Overlay";const S=a.forwardRef(({className:e,overlayProps:t,portalProps:r,...o},d)=>a.createElement(x,{...r},a.createElement(N,{...t}),a.createElement(re,{ref:d,className:m("bg-ui-bg-base shadow-elevation-modal fixed inset-2 flex flex-col overflow-hidden rounded-lg border focus-visible:outline-none","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=open]:slide-in-from-bottom-0 data-[state=closed]:slide-in-from-bottom-2  duration-200",e),...o})));S.displayName="FocusModal.Content";const j=a.forwardRef(({children:e,className:t,...r},o)=>a.createElement("div",{ref:o,className:m("border-ui-border-base flex items-center justify-between gap-x-4 border-b px-4 py-2",t),...r},a.createElement("div",{className:"flex items-center gap-x-2"},a.createElement(C,{asChild:!0},a.createElement(oe,{size:"small",type:"button",variant:"transparent"},a.createElement(se,null))),a.createElement(ne,null,"esc")),e));j.displayName="FocusModal.Header";const D=a.forwardRef(({children:e,className:t,...r},o)=>a.createElement("div",{ref:o,className:m("border-ui-border-base flex items-center justify-end gap-x-2 border-t p-4",t),...r},e));D.displayName="FocusModal.Footer";const T=a.forwardRef(({className:e,...t},r)=>a.createElement(le,{ref:r,...t}));T.displayName="FocusModal.Title";const w=ie;w.displayName="FocusModal.Description";const O=a.forwardRef(({className:e,...t},r)=>a.createElement("div",{ref:r,className:m("flex-1",e),...t}));O.displayName="FocusModal.Body";const i=Object.assign(b,{Trigger:M,Title:T,Description:w,Content:S,Header:j,Body:O,Close:h,Footer:D});var E=({form:e,blockSearch:t=!1,children:r})=>{const{t:o}=ue(),{formState:{isDirty:d}}=e,n=pe(({currentLocation:l,nextLocation:p})=>{const{isSubmitSuccessful:g}=p.state||{};if(g)return!1;const F=l.pathname!==p.pathname,L=l.search!==p.search;return t?d&&(F||L):d&&F}),u=()=>{var l;(l=n==null?void 0:n.reset)==null||l.call(n)},v=()=>{var l;(l=n==null?void 0:n.proceed)==null||l.call(n)};return s.jsxs(ee,{...e,children:[r,s.jsx(f,{open:n.state==="blocked",variant:"confirmation",children:s.jsxs(f.Content,{children:[s.jsxs(f.Header,{children:[s.jsx(f.Title,{children:o("general.unsavedChangesTitle")}),s.jsx(f.Description,{children:o("general.unsavedChangesDescription")})]}),s.jsxs(f.Footer,{children:[s.jsx(f.Cancel,{onClick:u,type:"button",children:o("actions.cancel")}),s.jsx(f.Action,{onClick:v,type:"button",children:o("actions.continue")})]})]})})]})},k=a.createContext(null),R=({prev:e,children:t})=>{const r=y(),o=d=>{r(d||e,{replace:!0,state:{isSubmitSuccessful:!0}})};return s.jsx(k.Provider,{value:{handleSuccess:o},children:t})},B=a.createContext(null),H=({children:e,onOpenChange:t})=>{const[r,o]=a.useState({}),d=l=>r[l]||!1,n=(l,p)=>{o(g=>({...g,[l]:p})),t(p)},u=l=>{o(p=>({...p,[l]:!1}))},v=l=>{o(p=>{const g={...p};return delete g[l],g})};return s.jsx(B.Provider,{value:{getIsOpen:d,setIsOpen:n,register:u,unregister:v},children:e})},P=()=>{const e=a.useContext(B);if(!e)throw new Error("useStackedModal must be used within a StackedModalProvider");return e},me=({prev:e="..",children:t})=>{const r=y(),[o,d]=a.useState(!1),[n,u]=a.useState(!1);a.useEffect(()=>(d(!0),()=>{d(!1),u(!1)}),[]);const v=l=>{if(!l){document.body.style.pointerEvents="auto",r(e,{replace:!0});return}d(l)};return s.jsx(c,{open:o,onOpenChange:v,children:s.jsx(R,{prev:e,children:s.jsx(H,{onOpenChange:u,children:s.jsx(c.Content,{className:m({"!bg-ui-bg-disabled !inset-y-5 !right-5":n}),children:t})})})})},fe=c.Header,ve=c.Title,ge=c.Description,ye=c.Body,Fe=c.Footer,Ce=c.Close,be=E,Be=Object.assign(me,{Header:fe,Title:ve,Body:ye,Description:ge,Footer:Fe,Close:Ce,Form:be}),Me=({prev:e="..",children:t})=>{const r=y(),[o,d]=a.useState(!1),[n,u]=a.useState(!1);a.useEffect(()=>(d(!0),()=>{d(!1),u(!1)}),[]);const v=l=>{if(!l){document.body.style.pointerEvents="auto",r(e,{replace:!0});return}d(l)};return s.jsx(i,{open:o,onOpenChange:v,children:s.jsx(R,{prev:e,children:s.jsx(H,{onOpenChange:u,children:s.jsx(i.Content,{className:m({"!bg-ui-bg-disabled !inset-x-5 !inset-y-3":n}),children:t})})})})},he=i.Header,xe=i.Title,Ne=i.Description,Se=i.Footer,je=i.Body,De=i.Close,Te=E,He=Object.assign(Me,{Header:he,Title:xe,Body:je,Description:Ne,Footer:Se,Close:De,Form:Te}),Pe=()=>{const e=a.useContext(k);if(!e)throw new Error("useRouteModal must be used within a RouteModalProvider");return e},we=({id:e,children:t})=>{const{register:r,unregister:o,getIsOpen:d,setIsOpen:n}=P();return a.useEffect(()=>(r(e),()=>o(e)),[]),s.jsx(c,{open:d(e),onOpenChange:u=>n(e,u),children:t})},I=c.Close;I.displayName="StackedDrawer.Close";var $=c.Header;$.displayName="StackedDrawer.Header";var K=c.Body;K.displayName="StackedDrawer.Body";var z=c.Trigger;z.displayName="StackedDrawer.Trigger";var A=c.Footer;A.displayName="StackedDrawer.Footer";var G=c.Title;G.displayName="StackedDrawer.Title";var J=c.Description;J.displayName="StackedDrawer.Description";var X=a.forwardRef(({className:e,...t},r)=>s.jsx(c.Content,{ref:r,className:m(e),overlayProps:{className:"bg-transparent"},...t}));X.displayName="StackedDrawer.Content";var Ie=Object.assign(we,{Close:I,Header:$,Body:K,Content:X,Trigger:z,Footer:A,Description:J,Title:G}),Oe=({id:e,children:t})=>{const{register:r,unregister:o,getIsOpen:d,setIsOpen:n}=P();return a.useEffect(()=>(r(e),()=>o(e)),[]),s.jsx(i,{open:d(e),onOpenChange:u=>n(e,u),children:t})},q=i.Close;q.displayName="StackedFocusModal.Close";var Q=i.Header;Q.displayName="StackedFocusModal.Header";var U=i.Body;U.displayName="StackedFocusModal.Body";var V=i.Trigger;V.displayName="StackedFocusModal.Trigger";var W=i.Footer;W.displayName="StackedFocusModal.Footer";var Y=i.Title;Y.displayName="StackedFocusModal.Title";var Z=i.Description;Z.displayName="StackedFocusModal.Description";var _=a.forwardRef(({className:e,...t},r)=>s.jsx(i.Content,{ref:r,className:m("!top-6",e),overlayProps:{className:"bg-transparent"},...t}));_.displayName="StackedFocusModal.Content";var $e=Object.assign(Oe,{Close:q,Header:Q,Body:U,Content:_,Trigger:V,Footer:W,Description:Z,Title:Y});export{He as R,$e as S,Be as a,P as b,Ie as c,Pe as u};
