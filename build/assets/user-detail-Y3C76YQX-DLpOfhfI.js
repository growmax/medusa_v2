import{J as m}from"./chunk-3IW4HYUP-C89ww9p0.js";import{q as l,h as p,v as u,cr as x,j as e,J as f,O as j,p as g,u as y,b as v,cs as h,C as w,H as T,T as d}from"./index-7A3rjJyE.js";import{A as C}from"./chunk-WRXTMI2J-CygmDunM.js";import{p as q}from"./chunk-YBHG7T6S-BleHOTgO.js";import{P as D}from"./pencil-square-mUSTT5rR.js";import{T as b}from"./trash-C_lucST6.js";import{u as U}from"./use-prompt-iL3FbEo4.js";import"./arrow-up-right-on-box-CF7GLQ-o.js";import"./Trans-Cyi6soNY.js";import"./x-mark-mini-Di7jARRp.js";import"./triangle-down-mini-BHNqpDM0.js";import"./square-two-stack-Ao9P_yLE.js";import"./chunk-DMYZ6SLX-BMyt3Z-P.js";import"./prompt-KZNvJYzq.js";import"./label-DDCdtDlT.js";const N={widgets:[]},P={widgets:[]};var S=s=>({queryKey:q.detail(s),queryFn:async()=>g.users.retrieve(s)}),R=async({params:s})=>{const t=s.id,i=S(t);return l.getQueryData(i.queryKey)??await l.fetchQuery(i)},A=({user:s})=>{const{t}=y(),i=v(),o=U(),{mutateAsync:c}=h(s.id),a=[s.first_name,s.last_name].filter(Boolean).join(" "),r=async()=>{await o({title:t("general.areYouSure"),description:t("users.deleteUserWarning",{name:a??s.email}),verificationText:a??s.email,verificationInstruction:t("general.typeToConfirm"),confirmText:t("actions.delete"),cancelText:t("actions.cancel")})&&await c(void 0,{onSuccess:()=>{i("..")}})};return e.jsxs(w,{className:"divide-y p-0",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsx(T,{children:s.email}),e.jsx(C,{groups:[{actions:[{label:t("actions.edit"),to:"edit",icon:e.jsx(D,{})}]},{actions:[{label:t("actions.delete"),onClick:r,icon:e.jsx(b,{})}]}]})]}),e.jsxs("div",{className:"text-ui-fg-subtle grid grid-cols-2 items-center px-6 py-4",children:[e.jsx(d,{size:"small",leading:"compact",weight:"plus",children:t("fields.name")}),e.jsx(d,{size:"small",leading:"compact",children:a??"-"})]})]})},V=()=>{const s=p(),{id:t}=u(),{user:i,isPending:o,isError:c,error:a}=x(t,void 0,{initialData:s});if(o)return e.jsx("div",{children:"Loading..."});if(c||!i)throw a||f("An unknown error has occured",500);return e.jsxs("div",{className:"flex flex-col gap-y-2",children:[P.widgets.map((r,n)=>e.jsx("div",{children:e.jsx(r.Component,{data:i})},n)),e.jsx(A,{user:i}),N.widgets.map((r,n)=>e.jsx("div",{children:e.jsx(r.Component,{data:i})},n)),e.jsx(m,{data:i}),e.jsx(j,{})]})};export{V as Component,R as loader};
