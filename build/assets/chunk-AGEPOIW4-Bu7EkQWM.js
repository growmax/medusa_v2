import{C as y}from"./chunk-DP6F32JR-9J2iiaFb.js";import{u as f,c8 as x,t as o,j as s}from"./index-7A3rjJyE.js";import{u as h,R as i}from"./chunk-BHGSRQH6-2xCUuk1R.js";import{t as _}from"./zod-DRKIF09R.js";import{u as b}from"./chunk-C7RYT3S3-C_x8NvOf.js";import{o as m,s as t,d as c,n as j,e as C}from"./index-yuYasa5Y.js";import{B as l}from"./label-DDCdtDlT.js";var v=m({name:t().min(1),description:t().optional(),campaign_identifier:t().min(1),starts_at:c().optional(),ends_at:c().optional(),budget:m({limit:j().min(0).nullish(),type:C(["spend","usage"]),currency_code:t().nullish()})}),T={name:"",description:"",campaign_identifier:"",budget:{type:"usage",currency_code:null,limit:null}},N=()=>{const{t:n}=f(),{handleSuccess:u}=h(),{mutateAsync:d,isPending:p}=x(),r=b({defaultValues:T,resolver:_(v)}),g=r.handleSubmit(async e=>{await d({name:e.name,description:e.description,campaign_identifier:e.campaign_identifier,starts_at:e.starts_at,ends_at:e.ends_at,budget:{type:e.budget.type,limit:e.budget.limit?e.budget.limit:void 0,currency_code:e.budget.currency_code}},{onSuccess:({campaign:a})=>{o.success(n("campaigns.create.successToast",{name:a.name})),u(`/campaigns/${a.id}`)},onError:a=>{o.error(a.message)}})});return s.jsx(i.Form,{form:r,children:s.jsxs("form",{onSubmit:g,children:[s.jsx(i.Header,{children:s.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[s.jsx(i.Close,{asChild:!0,children:s.jsx(l,{size:"small",variant:"secondary",children:n("actions.cancel")})}),s.jsx(l,{size:"small",variant:"primary",type:"submit",isLoading:p,children:n("actions.create")})]})}),s.jsx(i.Body,{className:"flex flex-col items-center py-16",children:s.jsx(y,{form:r})})]})})};export{v as C,N as a,T as d};
