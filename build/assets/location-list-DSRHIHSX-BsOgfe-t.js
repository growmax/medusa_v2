import{I as O}from"./chunk-EQTBJSBZ-b_1V6fJN.js";import{B as P}from"./chunk-BKJC5BGQ-lBPY5-jj.js";import{L as C}from"./chunk-6WKBBTKM-C1QI-Gio.js";import{a as T}from"./chunk-OIAPXGI2-CkBelqNL.js";import{a as z,s as E,b as B}from"./chunk-OIW3F4EQ-D8V0uZdG.js";import{A}from"./chunk-WRXTMI2J-CygmDunM.js";import{r as d,q as u,h as I,j as e,O as q,u as o,C as x,H as y,y as b,s as D,ct as K,T as l,L as w,t as h}from"./index-7A3rjJyE.js";import{A as F}from"./arrow-up-right-on-box-CF7GLQ-o.js";import{P as H}from"./pencil-square-mUSTT5rR.js";import{T as Q}from"./trash-C_lucST6.js";import{u as R}from"./use-prompt-iL3FbEo4.js";import{B as M}from"./label-DDCdtDlT.js";import{S as V}from"./status-badge-BK5p0WUV.js";import"./prompt-KZNvJYzq.js";var $=Object.defineProperty,p=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,g=(s,t,i)=>t in s?$(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,W=(s,t)=>{for(var i in t||(t={}))L.call(t,i)&&g(s,i,t[i]);if(p)for(var i of p(t))N.call(t,i)&&g(s,i,t[i]);return s},U=(s,t)=>{var i={};for(var a in s)L.call(s,a)&&t.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&p)for(var a of p(s))t.indexOf(a)<0&&N.call(s,a)&&(i[a]=s[a]);return i};const _=d.forwardRef((s,t)=>{var i=s,{color:a="currentColor"}=i,n=U(i,["color"]);return d.createElement("svg",W({xmlns:"http://www.w3.org/2000/svg",width:15,height:15,fill:"none",ref:t},n),d.createElement("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5.625 4.16V2.7a1.875 1.875 0 1 1 3.75 0V4.16"}),d.createElement("path",{stroke:a,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4.445 4.16h6.11c.865 0 1.587.66 1.66 1.522l.544 6.25a1.666 1.666 0 0 1-1.66 1.811H3.901a1.666 1.666 0 0 1-1.66-1.81l.543-6.25A1.667 1.667 0 0 1 4.445 4.16"}))});_.displayName="ShoppingBag";const Y={widgets:[]},G={widgets:[]};var k="name,*sales_channels,*address,*fulfillment_sets,*fulfillment_sets.service_zones,*fulfillment_sets.service_zones.shipping_options,*fulfillment_sets.service_zones.shipping_options.shipping_profile",J=()=>({queryKey:E.lists(),queryFn:async()=>await D.admin.stockLocation.list({fields:k}).catch(s=>{throw s.status===401?K("/login"):s})}),ge=async s=>{const t=J();return u.getQueryData(t.queryKey)??await u.fetchQuery(t)};function X(s){const{t}=o(),{salesChannels:i}=s;return e.jsx("div",{className:"flex flex-col px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(l,{size:"small",weight:"plus",className:"text-ui-fg-subtle flex-1",as:"div",children:t("stockLocations.salesChannels.label")}),e.jsx("div",{className:"flex-1 text-left",children:i!=null&&i.length?e.jsx(P,{rounded:!0,inline:!0,n:3,list:i.map(a=>a.name)}):"-"})]})})}function j(s){const{t}=o(),{fulfillmentSet:i,type:a}=s,n=!!i;return e.jsx("div",{className:"flex flex-col px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(l,{size:"small",weight:"plus",className:"text-ui-fg-subtle flex-1",as:"div",children:t(`stockLocations.fulfillmentSets.${a}.header`)}),e.jsx("div",{className:"flex-1 text-left",children:e.jsx(V,{color:n?"green":"grey",children:t(n?"statuses.enabled":"statuses.disabled")})})]})})}function Z(s){var m,f;const{location:t}=s,{t:i}=o(),a=R(),{mutateAsync:n}=B(t.id),r=async()=>{await a({title:i("general.areYouSure"),description:i("stockLocations.delete.confirmation",{name:t.name}),confirmText:i("actions.remove"),cancelText:i("actions.cancel")})&&await n(void 0,{onSuccess:()=>{h.success(i("shippingProfile.delete.successToast",{name:t.name}))},onError:S=>{h.error(S.message)}})};return e.jsxs(x,{className:"flex flex-col divide-y p-0",children:[e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-row items-center justify-between gap-x-4",children:[e.jsx("div",{className:"shadow-borders-base flex size-7 items-center justify-center rounded-md",children:e.jsx("div",{className:"bg-ui-bg-field flex size-6 items-center justify-center rounded-[4px]",children:e.jsx(b,{className:"text-ui-fg-subtle"})})}),e.jsxs("div",{className:"grow-1 flex flex-1 flex-col",children:[e.jsx(l,{weight:"plus",children:t.name}),e.jsx(l,{className:"text-ui-fg-subtle txt-small",children:T({address:t.address}).join(", ")})]}),e.jsxs("div",{className:"flex grow-0 items-center gap-4",children:[e.jsx(A,{groups:[{actions:[{label:i("actions.edit"),icon:e.jsx(H,{}),to:`/settings/locations/${t.id}/edit`}]},{actions:[{label:i("actions.delete"),icon:e.jsx(Q,{}),onClick:r}]}]}),e.jsx("div",{className:"bg-ui-border-strong h-[12px] w-[1px]"}),e.jsx(C,{to:`/settings/locations/${t.id}`,children:i("actions.viewDetails")})]})]})}),e.jsx(X,{salesChannels:t.sales_channels}),e.jsx(j,{type:"pickup",fulfillmentSet:(m=t.fulfillment_sets)==null?void 0:m.find(c=>c.type==="pickup")}),e.jsx(j,{type:"shipping",fulfillmentSet:(f=t.fulfillment_sets)==null?void 0:f.find(c=>c.type==="shipping")})]})}var ee=Z,se=()=>{const{t:s}=o();return e.jsxs(x,{className:"flex h-fit items-center justify-between gap-x-4 px-6 py-4",children:[e.jsxs("div",{children:[e.jsx(y,{children:s("stockLocations.domain")}),e.jsx(l,{className:"text-ui-fg-subtle txt-small",children:s("stockLocations.list.description")})]}),e.jsx(M,{size:"small",className:"shrink-0",variant:"secondary",asChild:!0,children:e.jsx(w,{to:"create",children:s("actions.create")})})]})};function je(){const s=I(),{stock_locations:t=[],isError:i,error:a}=z({fields:k},{initialData:s});if(i)throw a;return e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsxs("div",{className:"flex flex-col gap-x-4 gap-y-3 xl:flex-row xl:items-start",children:[e.jsxs("div",{className:"flex w-full flex-col gap-y-3",children:[G.widgets.map((n,r)=>e.jsx("div",{children:e.jsx(n.Component,{})},r)),e.jsx(se,{}),e.jsx("div",{className:"flex flex-col gap-3 lg:col-span-2",children:t.map(n=>e.jsx(ee,{location:n},n.id))}),Y.widgets.map((n,r)=>e.jsx("div",{children:e.jsx(n.Component,{})},r))]}),e.jsx("div",{className:"flex w-full max-w-[100%] flex-col gap-y-3 xl:mt-0 xl:max-w-[400px]",children:e.jsx(te,{})})]}),e.jsx(q,{})]})}var v=({to:s,labelKey:t,descriptionKey:i,icon:a})=>e.jsx(w,{to:s,className:"group outline-none",children:e.jsx("div",{className:"flex flex-col gap-2 px-2 pb-2",children:e.jsx("div",{className:"shadow-elevation-card-rest bg-ui-bg-component transition-fg hover:bg-ui-bg-component-hover active:bg-ui-bg-component-pressed group-focus-visible:shadow-borders-interactive-with-active rounded-md px-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(O,{children:a}),e.jsxs("div",{className:"flex flex-1 flex-col",children:[e.jsx(l,{size:"small",leading:"compact",weight:"plus",children:t}),e.jsx(l,{size:"small",leading:"compact",className:"text-ui-fg-subtle",children:i})]}),e.jsx("div",{className:"flex size-7 items-center justify-center",children:e.jsx(F,{className:"text-ui-fg-muted"})})]})})})}),te=()=>{const{t:s}=o();return e.jsxs(x,{className:"p-0",children:[e.jsx("div",{className:"flex items-center justify-between px-6 py-4",children:e.jsx(y,{level:"h2",children:s("stockLocations.sidebar.header")})}),e.jsx(v,{to:"/settings/locations/shipping-profiles",labelKey:s("stockLocations.sidebar.shippingProfiles.label"),descriptionKey:s("stockLocations.sidebar.shippingProfiles.description"),icon:e.jsx(_,{})}),e.jsx(v,{to:"/settings/locations/shipping-option-types",labelKey:s("stockLocations.sidebar.shippingOptionTypes.label"),descriptionKey:s("stockLocations.sidebar.shippingOptionTypes.description"),icon:e.jsx(b,{})})]})};export{je as Component,ge as loader};
