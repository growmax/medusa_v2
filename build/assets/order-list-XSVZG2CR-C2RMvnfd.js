import{D as v,a as j}from"./chunk-B4FQDBC3-Plo6CPPz.js";import{g as _,a as b}from"./chunk-MRWYX6AY-DEPn52yn.js";import{M as g}from"./chunk-LHJ6JQGA-DwzzZUWf.js";import{S as y}from"./chunk-ADOCJB6L-3PFdxvdK.js";import{P as h}from"./chunk-P3UUX2T6-Bigsa15J.js";import{u as d,r as C,j as t,x as N,Z as w,C as S,H as D,k as T}from"./index-7A3rjJyE.js";import{R as P}from"./react-country-flag.esm-unq-jaIv.js";import{c as F}from"./index-DL2eSRCZ.js";import{u as O}from"./chunk-QHCOJC4V-B0yC0oe2.js";import{u as E}from"./chunk-C76H5USB-qWdDTOoY.js";import{a as A}from"./chunk-TQZNQHGA-CqGicYvo.js";import{u as H,D as R}from"./chunk-MOFW5DA3-Byx5Qi5u.js";import"./lodash-8s6kkRaG.js";import"./chunk-7LAPOKHJ-BtMb3RyP.js";import"./chunk-M566SHKI-Cmdx6k9x.js";import"./format-CkWRMO1y.js";import"./chunk-FSMQADBD-DQ6u7KYm.js";import"./chunk-MWVM4TYO-bKUcYSnf.js";import"./chunk-YBHG7T6S-BleHOTgO.js";import"./chunk-DMYZ6SLX-BMyt3Z-P.js";import"./chunk-5FUV23JF-QRqJ2E8j.js";import"./chunk-RKBIB2RM-jqr0zPdv.js";import"./label-DDCdtDlT.js";import"./chunk-WX2SMNCD-D4nWbVrW.js";import"./plus-mini-BHxdUq8n.js";import"./command-bar-DBncXrlJ.js";import"./index-DFaNeppw.js";import"./chunk-QAF7PVQE-exoP4XGT.js";import"./_baseIsEqual-D9C7gzzJ.js";import"./date-picker-foikjjE_.js";import"./clsx-B-dksMZM.js";import"./x-mark-mini-Di7jARRp.js";var k=()=>{const{t:e}=d(),{regions:l}=O({limit:1e3,fields:"id,name"}),{sales_channels:n}=A({limit:1e3,fields:"id,name"});let r=[];if(l){const i={key:"region_id",label:e("fields.region"),type:"select",options:l.map(s=>({label:s.name,value:s.id})),multiple:!0,searchable:!0};r=[...r,i]}if(n){const i={key:"sales_channel_id",label:e("fields.salesChannel"),type:"select",multiple:!0,searchable:!0,options:n.map(s=>({label:s.name,value:s.id}))};r=[...r,i]}e("orders.payment.statusLabel"),e("orders.payment.status.notPaid"),e("orders.payment.status.awaiting"),e("orders.payment.status.captured"),e("orders.payment.status.refunded"),e("orders.payment.status.partiallyRefunded"),e("orders.payment.status.canceled"),e("orders.payment.status.requiresAction"),e("orders.fulfillment.statusLabel"),e("orders.fulfillment.status.notFulfilled"),e("orders.fulfillment.status.fulfilled"),e("orders.fulfillment.status.partiallyFulfilled"),e("orders.fulfillment.status.returned"),e("orders.fulfillment.status.partiallyReturned"),e("orders.fulfillment.status.shipped"),e("orders.fulfillment.status.partiallyShipped"),e("orders.fulfillment.status.canceled"),e("orders.fulfillment.status.requiresAction");const o=[{label:"Created At",key:"created_at"},{label:"Updated At",key:"updated_at"}].map(i=>({key:i.key,label:i.label,type:"date"}));return r=[...r,...o],r},L=({prefix:e,pageSize:l=20})=>{const n=E(["offset","q","created_at","updated_at","region_id","sales_channel_id","payment_status","fulfillment_status","order"],e),{offset:r,sales_channel_id:o,created_at:i,updated_at:s,fulfillment_status:a,payment_status:u,region_id:c,q:f,order:p}=n;return{searchParams:{limit:l,offset:r?Number(r):0,sales_channel_id:o==null?void 0:o.split(","),fulfillment_status:a==null?void 0:a.split(","),payment_status:u==null?void 0:u.split(","),created_at:i?JSON.parse(i):void 0,updated_at:s?JSON.parse(s):void 0,region_id:c==null?void 0:c.split(","),order:p||"-display_id",q:f},raw:n}},q=({country:e})=>e?t.jsx("div",{className:"flex size-5 items-center justify-center",children:t.jsx(N,{content:e.display_name,children:t.jsx("div",{className:"flex size-4 items-center justify-center overflow-hidden rounded-sm",children:t.jsx(P,{countryCode:e.iso_2.toUpperCase(),svg:!0,style:{width:"16px",height:"16px"},"aria-label":e.display_name})})})}):t.jsx(h,{}),I=({customer:e})=>{if(!e)return t.jsx("span",{className:"text-ui-fg-muted",children:"-"});const{first_name:l,last_name:n,email:r}=e,o=[l,n].filter(Boolean).join(" ");return t.jsx("div",{className:"flex h-full w-full items-center",children:t.jsx("span",{className:"truncate",children:o||r})})},z=()=>{const{t:e}=d();return t.jsx("div",{className:"flex h-full w-full items-center",children:t.jsx("span",{className:"truncate",children:e("fields.customer")})})},U=({displayId:e})=>e?t.jsx("div",{className:"text-ui-fg-subtle txt-compact-small flex h-full w-full items-center overflow-hidden",children:t.jsxs("span",{className:"truncate",children:["#",e]})}):t.jsx(h,{}),M=()=>{const{t:e}=d();return t.jsx("div",{className:"flex h-full w-full items-center",children:t.jsx("span",{className:"truncate",children:e("fields.order")})})},$=({status:e})=>{const{t:l}=d();if(!e)return"-";const{label:n,color:r}=_(l,e);return t.jsx(y,{color:r,children:n})},B=()=>{const{t:e}=d();return t.jsx("div",{className:"flex h-full w-full items-center",children:t.jsx("span",{className:"truncate",children:e("fields.fulfillment")})})},J=({status:e})=>{const{t:l}=d(),{label:n,color:r}=b(l,e);return t.jsx(y,{color:r,children:n})},K=()=>{const{t:e}=d();return t.jsx("div",{className:"flex h-full w-full items-center",children:t.jsx("span",{className:"truncate",children:e("fields.payment")})})},Q=({channel:e})=>{if(!e)return t.jsx("span",{className:"text-ui-fg-muted",children:"-"});const{name:l}=e;return t.jsx("div",{className:"flex h-full w-full items-center overflow-hidden",children:t.jsx("span",{className:"truncate",children:l})})},Z=()=>{const{t:e}=d();return t.jsx("div",{className:"flex h-full w-full items-center",children:t.jsx("span",{className:"truncate",children:e("fields.salesChannel")})})},G=({currencyCode:e,total:l})=>l?t.jsx(g,{currencyCode:e,amount:l,align:"right"}):t.jsx(h,{}),V=()=>{const{t:e}=d();return t.jsx("div",{className:"flex h-full w-full items-center justify-end",children:t.jsx("span",{className:"truncate",children:e("fields.total")})})},m=F(),W=e=>{const{exclude:l=[]}=e??{},n=C.useMemo(()=>[m.accessor("display_id",{header:()=>t.jsx(M,{}),cell:({getValue:s})=>{const a=s();return t.jsx(U,{displayId:a})}}),m.accessor("created_at",{header:()=>t.jsx(v,{}),cell:({getValue:s})=>{const a=new Date(s());return t.jsx(j,{date:a})}}),m.accessor("customer",{header:()=>t.jsx(z,{}),cell:({getValue:s})=>{const a=s();return t.jsx(I,{customer:a})}}),m.accessor("sales_channel",{header:()=>t.jsx(Z,{}),cell:({getValue:s})=>{const a=s();return t.jsx(Q,{channel:a})}}),m.accessor("payment_status",{header:()=>t.jsx(K,{}),cell:({getValue:s})=>{const a=s();return t.jsx(J,{status:a})}}),m.accessor("fulfillment_status",{header:()=>t.jsx(B,{}),cell:({getValue:s})=>{const a=s();return t.jsx($,{status:a})}}),m.accessor("total",{header:()=>t.jsx(V,{}),cell:({getValue:s,row:a})=>{const u=s(),c=a.original.currency_code;return t.jsx(G,{currencyCode:c,total:u})}}),m.display({id:"actions",cell:({row:s})=>{var u;const a=(u=s.original.shipping_address)==null?void 0:u.country;return t.jsx(q,{country:a})}})],[]),r=s=>s.accessorKey!==void 0,o=s=>s.id!==void 0,i=s=>r(s)?l.includes(s.accessorKey):o(s)?l.includes(s.id):!1;return n.filter(s=>!i(s))};const X={widgets:[]},Y={widgets:[]};var ee=["id","status","created_at","email","display_id","payment_status","fulfillment_status","total","currency_code"],te=["*customer","*sales_channel"],se=`${ee.join(",")},${te.join(",")}`,x=20,le=()=>{const{t:e}=d(),{searchParams:l,raw:n}=L({pageSize:x}),{orders:r,count:o,isError:i,error:s,isLoading:a}=w({fields:se,...l},{placeholderData:T}),u=k(),c=W({}),{table:f}=H({data:r??[],columns:c,enablePagination:!0,count:o,pageSize:x});if(i)throw s;return t.jsxs(S,{className:"divide-y p-0",children:[t.jsx("div",{className:"flex items-center justify-between px-6 py-4",children:t.jsx(D,{children:e("orders.domain")})}),t.jsx(R,{columns:c,table:f,pagination:!0,navigateTo:p=>`/orders/${p.original.id}`,filters:u,count:o,search:!0,isLoading:a,pageSize:x,orderBy:["display_id","created_at","updated_at"],queryObject:n,noRecords:{message:e("orders.list.noRecordsMessage")}})]})},Le=()=>t.jsxs("div",{className:"flex w-full flex-col gap-y-3",children:[Y.widgets.map((e,l)=>t.jsx("div",{children:t.jsx(e.Component,{})},l)),t.jsx(le,{}),X.widgets.map((e,l)=>t.jsx("div",{children:t.jsx(e.Component,{})},l))]});export{Le as Component};
