import{u as x,a as y}from"./chunk-347W5B26-CTmEPBKZ.js";import{A as j}from"./chunk-WRXTMI2J-CygmDunM.js";import{u as v,D as b}from"./chunk-MOFW5DA3-Byx5Qi5u.js";import{j as a,O as P,u as o,C as T,H as S,T as _,L as w,r as k,k as C,t as u}from"./index-7A3rjJyE.js";import"./lodash-8s6kkRaG.js";import{u as A}from"./chunk-C76H5USB-qWdDTOoY.js";import"./chunk-7LAPOKHJ-BtMb3RyP.js";import"./chunk-M566SHKI-Cmdx6k9x.js";import{T as D}from"./trash-C_lucST6.js";import{u as E}from"./use-prompt-iL3FbEo4.js";import{B as N}from"./label-DDCdtDlT.js";import{c as O}from"./index-DL2eSRCZ.js";import"./chunk-5FUV23JF-QRqJ2E8j.js";import"./chunk-RKBIB2RM-jqr0zPdv.js";import"./chunk-WX2SMNCD-D4nWbVrW.js";import"./plus-mini-BHxdUq8n.js";import"./command-bar-DBncXrlJ.js";import"./index-DFaNeppw.js";import"./chunk-QAF7PVQE-exoP4XGT.js";import"./format-CkWRMO1y.js";import"./_baseIsEqual-D9C7gzzJ.js";import"./date-picker-foikjjE_.js";import"./clsx-B-dksMZM.js";import"./x-mark-mini-Di7jARRp.js";import"./prompt-KZNvJYzq.js";const z={widgets:[]},L={widgets:[]};var q=({profile:t})=>{const{t:e}=o(),s=E(),{mutateAsync:r}=y(t.id),i=async()=>{await s({title:e("shippingProfile.delete.title"),description:e("shippingProfile.delete.description",{name:t.name}),verificationText:t.name,verificationInstruction:e("general.typeToConfirm"),confirmText:e("actions.delete"),cancelText:e("actions.cancel")})&&await r(void 0,{onSuccess:()=>{u.success(e("shippingProfile.delete.successToast",{name:t.name}))},onError:n=>{u.error(n.message)}})};return a.jsx(j,{groups:[{actions:[{icon:a.jsx(D,{}),label:e("actions.delete"),onClick:i}]}]})},p=O(),H=()=>{const{t}=o();return k.useMemo(()=>[p.accessor("name",{header:t("fields.name"),cell:e=>e.getValue()}),p.accessor("type",{header:t("fields.type"),cell:e=>e.getValue()}),p.display({id:"actions",cell:({row:e})=>a.jsx(q,{profile:e.original})})],[t])},I=()=>{const{t}=o();let e=[];e.push({key:"name",label:t("fields.name"),type:"string"}),e.push({key:"type",label:t("fields.type"),type:"string"});const s=[{label:t("fields.createdAt"),key:"created_at"},{label:t("fields.updatedAt"),key:"updated_at"}].map(r=>({key:r.key,label:r.label,type:"date"}));return e=[...e,...s],e},B=({pageSize:t=20,prefix:e})=>{const s=A(["offset","q","order","created_at","updated_at","name","type"],e);return{searchParams:{limit:t,offset:s.offset?parseInt(s.offset):0,q:s.q,order:s.order,created_at:s.created_at?JSON.parse(s.created_at):void 0,updated_at:s.updated_at?JSON.parse(s.updated_at):void 0,name:s.name,type:s.type},raw:s}},c=20,R=()=>{const{t}=o(),{raw:e,searchParams:s}=B({pageSize:c}),{shipping_profiles:r,count:i,isLoading:d,isError:n,error:f}=x(s,{placeholderData:C}),m=H(),h=I(),{table:g}=v({data:r,columns:m,count:i,enablePagination:!0,getRowId:l=>l.id,pageSize:c});if(n)throw f;return a.jsxs(T,{className:"divide-y p-0",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[a.jsxs("div",{children:[a.jsx(S,{children:t("shippingProfile.domain")}),a.jsx(_,{className:"text-ui-fg-subtle",size:"small",children:t("shippingProfile.subtitle")})]}),a.jsx("div",{children:a.jsx(N,{size:"small",variant:"secondary",asChild:!0,children:a.jsx(w,{to:"create",children:t("actions.create")})})})]}),a.jsx(b,{table:g,pageSize:c,count:i,columns:m,filters:h,orderBy:["name","type","created_at","updated_at"],isLoading:d,navigateTo:l=>l.id,queryObject:e,search:!0,pagination:!0})]})},me=()=>a.jsxs("div",{className:"flex flex-col gap-y-3",children:[L.widgets.map((t,e)=>a.jsx("div",{children:a.jsx(t.Component,{})},e)),a.jsx(R,{}),z.widgets.map((t,e)=>a.jsx("div",{children:a.jsx(t.Component,{})},e)),a.jsx(P,{})]});export{me as Component};
