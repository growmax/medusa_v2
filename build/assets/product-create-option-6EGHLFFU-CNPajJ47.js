import{C as j}from"./chunk-OEMJBX6M-Cay2DnS9.js";import{d as f,j as v}from"./chunk-YBHG7T6S-BleHOTgO.js";import{v as g,u as p,j as e,H as C,t as m,I as y}from"./index-7A3rjJyE.js";import{a as i,u as P}from"./chunk-BHGSRQH6-2xCUuk1R.js";import{u as F,F as s}from"./chunk-C7RYT3S3-C_x8NvOf.js";import{t as b}from"./zod-DRKIF09R.js";import{z as a}from"./index-yuYasa5Y.js";import{B as u}from"./label-DDCdtDlT.js";import"./index-Cy4zQj6C.js";import"./motion-UqVoX3oU.js";import"./x-mark-mini-Di7jARRp.js";import"./chunk-DMYZ6SLX-BMyt3Z-P.js";import"./prompt-KZNvJYzq.js";var S=a.object({title:a.string().min(1),values:a.array(a.string()).optional()}),E=({product:l})=>{const{t:r}=p(),{handleSuccess:n}=P(),o=F({defaultValues:{title:"",values:[]},resolver:b(S)}),{mutateAsync:c,isPending:d}=v(l.id),x=o.handleSubmit(async t=>{c(t,{onSuccess:()=>{m.success(r("products.options.create.successToast",{title:t.title})),n()},onError:async h=>{m.error(h.message)}})});return e.jsx(i.Form,{form:o,children:e.jsxs("form",{onSubmit:x,className:"flex flex-1 flex-col overflow-hidden",children:[e.jsxs(i.Body,{className:"flex flex-1 flex-col gap-y-4 overflow-auto",children:[e.jsx(s.Field,{control:o.control,name:"title",render:({field:t})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{children:r("products.fields.options.optionTitle")}),e.jsx(s.Control,{children:e.jsx(y,{...t,placeholder:r("products.fields.options.optionTitlePlaceholder")})}),e.jsx(s.ErrorMessage,{})]})}),e.jsx(s.Field,{control:o.control,name:"values",render:({field:t})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{children:r("products.fields.options.variations")}),e.jsx(s.Control,{children:e.jsx(j,{...t,placeholder:r("products.fields.options.variantionsPlaceholder")})}),e.jsx(s.ErrorMessage,{})]})})]}),e.jsx(i.Footer,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(i.Close,{asChild:!0,children:e.jsx(u,{variant:"secondary",size:"small",children:r("actions.cancel")})}),e.jsx(u,{type:"submit",size:"small",isLoading:d,children:r("actions.save")})]})})]})})},V=()=>{const{id:l}=g(),{t:r}=p(),{product:n,isLoading:o,isError:c,error:d}=f(l);if(c)throw d;return e.jsxs(i,{children:[e.jsx(i.Header,{children:e.jsx(C,{children:r("products.options.create.header")})}),!o&&n&&e.jsx(E,{product:n})]})};export{V as Component};
