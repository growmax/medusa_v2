import{d as h,g as j}from"./chunk-JVT2BXDL-CkNmt2FE.js";import{v as f,u,j as e,H as y,t as d,I as g}from"./index-7A3rjJyE.js";import{a as t,u as v}from"./chunk-BHGSRQH6-2xCUuk1R.js";import{u as E,F as i}from"./chunk-C7RYT3S3-C_x8NvOf.js";import{t as F}from"./zod-DRKIF09R.js";import{o as K,s as b}from"./index-yuYasa5Y.js";import{B as p}from"./label-DDCdtDlT.js";import"./chunk-TQZNQHGA-CqGicYvo.js";import"./chunk-YBHG7T6S-BleHOTgO.js";import"./chunk-DMYZ6SLX-BMyt3Z-P.js";import"./prompt-KZNvJYzq.js";var A=K({title:b().min(1)}),S=({apiKey:a})=>{const{t:s}=u(),{handleSuccess:o}=v(),r=E({defaultValues:{title:a.title},resolver:F(A)}),{mutateAsync:n,isPending:l}=j(a.id),x=r.handleSubmit(async c=>{await n(c,{onSuccess:({api_key:m})=>{d.success(s("apiKeyManagement.edit.successToast",{title:m.title})),o()},onError:m=>{d.error(m.message)}})});return e.jsx(t.Form,{form:r,children:e.jsxs("form",{onSubmit:x,className:"flex flex-1 flex-col",children:[e.jsx(t.Body,{children:e.jsx("div",{className:"flex flex-col gap-y-4",children:e.jsx(i.Field,{control:r.control,name:"title",render:({field:c})=>e.jsxs(i.Item,{children:[e.jsx(i.Label,{children:s("fields.title")}),e.jsx(i.Control,{children:e.jsx(g,{...c})}),e.jsx(i.ErrorMessage,{})]})})})}),e.jsx(t.Footer,{children:e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(t.Close,{asChild:!0,children:e.jsx(p,{size:"small",variant:"secondary",children:s("actions.cancel")})}),e.jsx(p,{size:"small",type:"submit",isLoading:l,children:s("actions.save")})]})})]})})},P=()=>{const{id:a}=f(),{t:s}=u(),{api_key:o,isLoading:r,isError:n,error:l}=h(a);if(n)throw l;return e.jsxs(t,{children:[e.jsx(t.Header,{children:e.jsx(y,{children:s("apiKeyManagement.edit.header")})}),!r&&!!o&&e.jsx(S,{apiKey:o})]})};export{P as Component};
