import{C as y}from"./chunk-FLW5D3SP-2BTcEG50.js";import{b,g as I}from"./chunk-DMYZ6SLX-BMyt3Z-P.js";import{v as F,u as f,j as e,H as w,t as g,I as u}from"./index-7A3rjJyE.js";import{a as m,u as C}from"./chunk-BHGSRQH6-2xCUuk1R.js";import{u as E,F as r}from"./chunk-C7RYT3S3-C_x8NvOf.js";import{t as _}from"./zod-DRKIF09R.js";import{z as a}from"./index-yuYasa5Y.js";import{B as v}from"./label-DDCdtDlT.js";import"./triangles-mini-JWkpofVU.js";import"./prompt-KZNvJYzq.js";var L=a.object({height:a.number().positive().optional(),width:a.number().positive().optional(),length:a.number().positive().optional(),weight:a.number().positive().optional(),mid_code:a.string().optional(),hs_code:a.string().optional(),origin_country:a.string().optional()}),M=o=>({height:o.height??void 0,width:o.width??void 0,length:o.length??void 0,weight:o.weight??void 0,mid_code:o.mid_code??void 0,hs_code:o.hs_code??void 0,origin_country:o.origin_country??void 0}),S=({item:o})=>{const{t:s}=f(),{handleSuccess:h}=C(),n=E({defaultValues:M(o),resolver:_(L)}),{mutateAsync:x,isPending:j}=I(o.id),p=n.handleSubmit(async t=>{await x(t,{onSuccess:()=>{g.success(s("inventory.toast.updateItem")),h()},onError:l=>g.error(l.message)})});return e.jsx(m.Form,{form:n,children:e.jsxs("form",{onSubmit:p,className:"flex flex-1 flex-col overflow-hidden",children:[e.jsxs(m.Body,{className:"flex flex-1 flex-col gap-y-4 overflow-auto",children:[e.jsx(r.Field,{control:n.control,name:"height",render:({field:{onChange:t,value:l,...d}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.height")}),e.jsx(r.Control,{children:e.jsx(u,{type:"number",min:0,value:l||"",onChange:c=>{const i=c.target.value;t(i===""?null:parseFloat(i))},...d})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"width",render:({field:{onChange:t,value:l,...d}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.width")}),e.jsx(r.Control,{children:e.jsx(u,{type:"number",min:0,value:l||"",onChange:c=>{const i=c.target.value;t(i===""?null:parseFloat(i))},...d})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"length",render:({field:{onChange:t,value:l,...d}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.length")}),e.jsx(r.Control,{children:e.jsx(u,{type:"number",min:0,value:l||"",onChange:c=>{const i=c.target.value;t(i===""?null:parseFloat(i))},...d})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"weight",render:({field:{onChange:t,value:l,...d}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.weight")}),e.jsx(r.Control,{children:e.jsx(u,{type:"number",min:0,value:l||"",onChange:c=>{const i=c.target.value;t(i===""?null:parseFloat(i))},...d})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"mid_code",render:({field:t})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.midCode")}),e.jsx(r.Control,{children:e.jsx(u,{...t})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"hs_code",render:({field:t})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.hsCode")}),e.jsx(r.Control,{children:e.jsx(u,{...t})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"origin_country",render:({field:t})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:s("fields.countryOfOrigin")}),e.jsx(r.Control,{children:e.jsx(y,{...t})}),e.jsx(r.ErrorMessage,{})]})})]}),e.jsx(m.Footer,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(m.Close,{asChild:!0,children:e.jsx(v,{variant:"secondary",size:"small",children:s("actions.cancel")})}),e.jsx(v,{type:"submit",size:"small",isLoading:j,children:s("actions.save")})]})})]})})},T=()=>{const{id:o}=F(),{t:s}=f(),{inventory_item:h,isPending:n,isError:x,error:j}=b(o),p=!n&&h;if(x)throw j;return e.jsxs(m,{children:[e.jsx(m.Header,{children:e.jsx(w,{children:s("products.editAttributes")})}),p&&e.jsx(S,{item:h})]})};export{T as Component};
