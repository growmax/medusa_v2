import{T as q,u as Q}from"./chunk-VNYVDWWH-BElGsP_6.js";import{u as N,a as Y,b as Z}from"./chunk-O4JGPO2C-a6qsD9m1.js";import{u as J,a as K,b as V}from"./chunk-APWN266K-BhXvr4m7.js";import{u as W,a as $,b as ee,c as te,d as re}from"./chunk-WJBHHVZN-BX5euPMv.js";import{a as L}from"./chunk-B4FQDBC3-Plo6CPPz.js";import{u as se}from"./chunk-7TY4Y7TY-B3QhHT0B.js";import{u as ae}from"./chunk-YVTBRLIE-C161Iqr5.js";import{u as oe}from"./chunk-QBDU475K-BjRzsrqf.js";import{u as ne,a as ce}from"./chunk-OGPZJ7JQ-9Z-hWx5h.js";import{u as le}from"./chunk-OPYB3EPU-B_-LG2wj.js";import{a as ie}from"./chunk-IQRVIEMV-JX6w9umB.js";import{u as O,D as z}from"./chunk-MOFW5DA3-Byx5Qi5u.js";import{u as ue}from"./chunk-YBHG7T6S-BleHOTgO.js";import{S as de,c as pe}from"./chunk-BHGSRQH6-2xCUuk1R.js";import{u as U,r as f,j as a,k as E,d as me,T as ge,n as fe}from"./index-7A3rjJyE.js";import{z as k}from"./index-yuYasa5Y.js";import{X as Se}from"./x-mark-mini-Di7jARRp.js";import{B as X}from"./label-DDCdtDlT.js";import{C}from"./checkbox-BD385cy_.js";import{c as _}from"./index-DL2eSRCZ.js";var A=_(),he=()=>{const{t:s}=U();return f.useMemo(()=>[A.accessor("value",{header:()=>s("fields.value"),cell:({getValue:e})=>a.jsx(ie,{text:e()})}),A.accessor("created_at",{header:()=>s("fields.createdAt"),cell:({getValue:e})=>a.jsx(L,{date:e()})}),A.accessor("updated_at",{header:()=>s("fields.updatedAt"),cell:({getValue:e})=>a.jsx(L,{date:e()})})],[s])};function Ce(s){return s.reduce((e,r)=>(e[r.value]=!0,e),{})}var rt=({referenceType:s,type:e,setState:r,state:c})=>{const{t:S}=U(),g=e==="focus"?de:pe,[h,n]=f.useState(c),l=()=>{r(h)};return a.jsxs("div",{className:"flex size-full flex-col overflow-hidden",children:[a.jsx(g.Body,{className:"min-h-0 p-0",children:a.jsx(be,{referenceType:s,initialRowState:Ce(c),intermediate:h,setIntermediate:n})}),a.jsxs(g.Footer,{children:[a.jsx(g.Close,{asChild:!0,children:a.jsx(X,{variant:"secondary",size:"small",type:"button",children:S("actions.cancel")})}),a.jsx(X,{type:"button",size:"small",onClick:l,children:S("actions.save")})]})]})},be=({referenceType:s,...e})=>{switch(s){case"customer_groups":return a.jsx(Pe,{...e});case"products":return a.jsx(ye,{...e});case"product_collections":return a.jsx(ve,{...e});case"product_types":return a.jsx(ke,{...e});case"product_tags":return a.jsx(ze,{...e});default:return null}},i=50,F="cg",Pe=({initialRowState:s,intermediate:e,setIntermediate:r})=>{const[c,S]=f.useState(s);D();const{searchParams:g,raw:h}=J({pageSize:i,prefix:F}),{customer_groups:n,count:l,isLoading:b,isError:P,error:x}=ae(g,{placeholderData:E}),w=o=>{const d=typeof o=="function"?o(c):o,p=Object.keys(c),m=Object.keys(d),j=m.filter(t=>!p.includes(t)),v=p.filter(t=>!m.includes(t)),R=(n==null?void 0:n.filter(t=>j.includes(t.id)).map(t=>({value:t.id,label:t.name})))||[],I=e.filter(t=>!v.includes(t.value));r([...I,...R]),S(d)},y=K(),u=we(),{table:T}=O({data:n||[],columns:u,count:l,enablePagination:!0,enableRowSelection:!0,getRowId:o=>o.id,rowSelection:{state:c,updater:w},pageSize:i,prefix:F});if(P)throw x;return a.jsx(z,{table:T,columns:u,pageSize:i,count:l,isLoading:b,filters:y,orderBy:["name","created_at","updated_at"],layout:"fill",pagination:!0,search:!0,prefix:F,queryObject:h})},xe=_(),we=()=>{const s=V();return f.useMemo(()=>[xe.display({id:"select",header:({table:e})=>a.jsx(C,{checked:e.getIsSomePageRowsSelected()?"indeterminate":e.getIsAllPageRowsSelected(),onCheckedChange:r=>e.toggleAllPageRowsSelected(!!r)}),cell:({row:e})=>a.jsx(C,{checked:e.getIsSelected(),onCheckedChange:r=>e.toggleSelected(!!r),onClick:r=>{r.stopPropagation()}})}),...s],[s])},G="p",ye=({initialRowState:s,intermediate:e,setIntermediate:r})=>{const[c,S]=f.useState(s);D();const{searchParams:g,raw:h}=ne({pageSize:i,prefix:G}),{products:n,count:l,isLoading:b,isError:P,error:x}=ue(g,{placeholderData:E}),w=o=>{const d=typeof o=="function"?o(c):o,p=Object.keys(c),m=Object.keys(d),j=m.filter(t=>!p.includes(t)),v=p.filter(t=>!m.includes(t)),R=(n==null?void 0:n.filter(t=>j.includes(t.id)).map(t=>({value:t.id,label:t.title})))||[],I=e.filter(t=>!v.includes(t.value));r([...I,...R]),S(d)},y=ce(),u=je(),{table:T}=O({data:n||[],columns:u,count:l,enablePagination:!0,enableRowSelection:!0,getRowId:o=>o.id,rowSelection:{state:c,updater:w},pageSize:i,prefix:G});if(P)throw x;return a.jsx(z,{table:T,columns:u,pageSize:i,count:l,isLoading:b,filters:y,orderBy:["title","created_at","updated_at"],layout:"fill",pagination:!0,search:!0,prefix:G,queryObject:h})},Te=_(),je=()=>{const s=oe();return f.useMemo(()=>[Te.display({id:"select",header:({table:e})=>a.jsx(C,{checked:e.getIsSomePageRowsSelected()?"indeterminate":e.getIsAllPageRowsSelected(),onCheckedChange:r=>e.toggleAllPageRowsSelected(!!r)}),cell:({row:e})=>a.jsx(C,{checked:e.getIsSelected(),onCheckedChange:r=>e.toggleSelected(!!r),onClick:r=>{r.stopPropagation()}})}),...s],[s])},M="pc",ve=({initialRowState:s,intermediate:e,setIntermediate:r})=>{const[c,S]=f.useState(s);D();const{searchParams:g,raw:h}=W({pageSize:i,prefix:M}),{collections:n,count:l,isLoading:b,isError:P,error:x}=se(g,{placeholderData:E}),w=o=>{const d=typeof o=="function"?o(c):o,p=Object.keys(c),m=Object.keys(d),j=m.filter(t=>!p.includes(t)),v=p.filter(t=>!m.includes(t)),R=(n==null?void 0:n.filter(t=>j.includes(t.id)).map(t=>({value:t.id,label:t.title})))||[],I=e.filter(t=>!v.includes(t.value));r([...I,...R]),S(d)},y=$(),u=Ie(),{table:T}=O({data:n||[],columns:u,count:l,enablePagination:!0,enableRowSelection:!0,getRowId:o=>o.id,rowSelection:{state:c,updater:w},pageSize:i,prefix:M});if(P)throw x;return a.jsx(z,{table:T,columns:u,pageSize:i,count:l,isLoading:b,filters:y,orderBy:["title","created_at","updated_at"],layout:"fill",pagination:!0,search:!0,prefix:M,queryObject:h})},Re=_(),Ie=()=>{const s=ee();return f.useMemo(()=>[Re.display({id:"select",header:({table:e})=>a.jsx(C,{checked:e.getIsSomePageRowsSelected()?"indeterminate":e.getIsAllPageRowsSelected(),onCheckedChange:r=>e.toggleAllPageRowsSelected(!!r)}),cell:({row:e})=>a.jsx(C,{checked:e.getIsSelected(),onCheckedChange:r=>e.toggleSelected(!!r),onClick:r=>{r.stopPropagation()}})}),...s],[s])},B="pt",ke=({initialRowState:s,intermediate:e,setIntermediate:r})=>{const[c,S]=f.useState(s);D();const{searchParams:g,raw:h}=N({pageSize:i,prefix:B}),{product_types:n,count:l,isLoading:b,isError:P,error:x}=le(g,{placeholderData:E}),w=o=>{const d=typeof o=="function"?o(c):o,p=Object.keys(c),m=Object.keys(d),j=m.filter(t=>!p.includes(t)),v=p.filter(t=>!m.includes(t)),R=(n==null?void 0:n.filter(t=>j.includes(t.id)).map(t=>({value:t.id,label:t.value})))||[],I=e.filter(t=>!v.includes(t.value));r([...I,...R]),S(d)},y=Y(),u=Oe(),{table:T}=O({data:n||[],columns:u,count:l,enablePagination:!0,enableRowSelection:!0,getRowId:o=>o.id,rowSelection:{state:c,updater:w},pageSize:i,prefix:B});if(P)throw x;return a.jsx(z,{table:T,columns:u,pageSize:i,count:l,isLoading:b,filters:y,orderBy:["value","created_at","updated_at"],layout:"fill",pagination:!0,search:!0,prefix:B,queryObject:h})},_e=_(),Oe=()=>{const s=Z();return f.useMemo(()=>[_e.display({id:"select",header:({table:e})=>a.jsx(C,{checked:e.getIsSomePageRowsSelected()?"indeterminate":e.getIsAllPageRowsSelected(),onCheckedChange:r=>e.toggleAllPageRowsSelected(!!r)}),cell:({row:e})=>a.jsx(C,{checked:e.getIsSelected(),onCheckedChange:r=>e.toggleSelected(!!r),onClick:r=>{r.stopPropagation()}})}),...s],[s])},H="ptag",ze=({initialRowState:s,intermediate:e,setIntermediate:r})=>{const[c,S]=f.useState(s);D();const{searchParams:g,raw:h}=te({pageSize:i,prefix:H}),{product_tags:n,count:l,isLoading:b,isError:P,error:x}=Q(g,{placeholderData:E}),w=o=>{const d=typeof o=="function"?o(c):o,p=Object.keys(c),m=Object.keys(d),j=m.filter(t=>!p.includes(t)),v=p.filter(t=>!m.includes(t)),R=(n==null?void 0:n.filter(t=>j.includes(t.id)).map(t=>({value:t.id,label:t.value})))||[],I=e.filter(t=>!v.includes(t.value));r([...I,...R]),S(d)},y=re(),u=De(),{table:T}=O({data:n||[],columns:u,count:l,enablePagination:!0,enableRowSelection:!0,getRowId:o=>o.id,rowSelection:{state:c,updater:w},pageSize:i,prefix:H});if(P)throw x;return a.jsx(z,{table:T,columns:u,pageSize:i,count:l,isLoading:b,filters:y,orderBy:["value","created_at","updated_at"],layout:"fill",pagination:!0,search:!0,prefix:H,queryObject:h})},Ee=_(),De=()=>{const s=he();return f.useMemo(()=>[Ee.display({id:"select",header:({table:e})=>a.jsx(C,{checked:e.getIsSomePageRowsSelected()?"indeterminate":e.getIsAllPageRowsSelected(),onCheckedChange:r=>e.toggleAllPageRowsSelected(!!r)}),cell:({row:e})=>a.jsx(C,{checked:e.getIsSelected(),onCheckedChange:r=>e.toggleSelected(!!r),onClick:r=>{r.stopPropagation()}})}),...s],[s])},D=()=>{const[s,e]=me();f.useEffect(()=>()=>{e({})},[])},st=({index:s,label:e,onRemove:r})=>a.jsxs("div",{className:"bg-ui-bg-field-component shadow-borders-base flex items-center justify-between gap-2 rounded-md px-2 py-0.5",children:[a.jsx(ge,{size:"small",leading:"compact",children:e}),a.jsx(fe,{size:"small",variant:"transparent",type:"button",onClick:()=>r(s),children:a.jsx(Se,{})})]}),Ae=k.object({value:k.string(),label:k.string()});k.object({reference_type:k.nativeEnum(q),references:k.array(Ae)});var at=s=>s.references.map(e=>({reference:s.reference_type,reference_id:e.value}));export{Ae as T,rt as a,st as b,at as c};
