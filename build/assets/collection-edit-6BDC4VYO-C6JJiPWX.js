import{c as j,f as p}from"./chunk-7TY4Y7TY-B3QhHT0B.js";import{v as f,u as h,j as e,H as g,I as d,T as v}from"./index-7A3rjJyE.js";import{a as r,u as C}from"./chunk-BHGSRQH6-2xCUuk1R.js";import{u as y,F as s}from"./chunk-C7RYT3S3-C_x8NvOf.js";import{t as b}from"./zod-DRKIF09R.js";import{o as F,s as m}from"./index-yuYasa5Y.js";import{B as x}from"./label-DDCdtDlT.js";import"./chunk-YBHG7T6S-BleHOTgO.js";import"./chunk-DMYZ6SLX-BMyt3Z-P.js";import"./prompt-KZNvJYzq.js";var E=F({title:m().min(1),handle:m().min(1)}),N=({collection:o})=>{const{t}=h(),{handleSuccess:n}=C(),l=y({defaultValues:{title:o.title,handle:o.handle},resolver:b(E)}),{mutateAsync:a,isPending:c}=p(o.id),u=l.handleSubmit(async i=>{await a(i,{onSuccess:()=>{n()}})});return e.jsx(r.Form,{form:l,children:e.jsxs("form",{onSubmit:u,className:"flex flex-1 flex-col",children:[e.jsx(r.Body,{children:e.jsxs("div",{className:"flex flex-col gap-y-4",children:[e.jsx(s.Field,{control:l.control,name:"title",render:({field:i})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{children:t("fields.title")}),e.jsx(s.Control,{children:e.jsx(d,{...i})}),e.jsx(s.ErrorMessage,{})]})}),e.jsx(s.Field,{control:l.control,name:"handle",render:({field:i})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{tooltip:t("collections.handleTooltip"),children:t("fields.handle")}),e.jsx(s.Control,{children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 z-10 flex w-8 items-center justify-center border-r",children:e.jsx(v,{className:"text-ui-fg-muted",size:"small",leading:"compact",weight:"plus",children:"/"})}),e.jsx(d,{...i,className:"pl-10"})]})}),e.jsx(s.ErrorMessage,{})]})})]})}),e.jsx(r.Footer,{children:e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(r.Close,{asChild:!0,children:e.jsx(x,{size:"small",variant:"secondary",children:t("actions.cancel")})}),e.jsx(x,{size:"small",type:"submit",isLoading:c,children:t("actions.save")})]})})]})})},P=()=>{const{id:o}=f(),{t}=h(),{collection:n,isLoading:l,isError:a,error:c}=j(o);if(a)throw c;return e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsx(g,{children:t("collections.editCollection")})}),!l&&n&&e.jsx(N,{collection:n})]})};export{P as Component};
