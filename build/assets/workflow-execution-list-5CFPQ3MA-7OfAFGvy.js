import{u as f,g as w,a as g}from"./chunk-F2N5NI3W-BJQR5Abb.js";import{S as h}from"./chunk-ADOCJB6L-3PFdxvdK.js";import{u as j,D as b}from"./chunk-MOFW5DA3-Byx5Qi5u.js";import{j as t,u,C as v,H as E,T as k,r as T,B as S,k as C}from"./index-7A3rjJyE.js";import"./lodash-8s6kkRaG.js";import{u as P}from"./chunk-C76H5USB-qWdDTOoY.js";import"./chunk-7LAPOKHJ-BtMb3RyP.js";import"./chunk-M566SHKI-Cmdx6k9x.js";import{c as y}from"./index-DL2eSRCZ.js";import"./chunk-5FUV23JF-QRqJ2E8j.js";import"./chunk-RKBIB2RM-jqr0zPdv.js";import"./label-DDCdtDlT.js";import"./chunk-WX2SMNCD-D4nWbVrW.js";import"./plus-mini-BHxdUq8n.js";import"./command-bar-DBncXrlJ.js";import"./index-DFaNeppw.js";import"./chunk-QAF7PVQE-exoP4XGT.js";import"./format-CkWRMO1y.js";import"./_baseIsEqual-D9C7gzzJ.js";import"./date-picker-foikjjE_.js";import"./clsx-B-dksMZM.js";import"./x-mark-mini-Di7jARRp.js";const z={widgets:[]},L={widgets:[]};var l=y(),R=()=>{const{t:e}=u();return T.useMemo(()=>[l.accessor("transaction_id",{header:e("workflowExecutions.transactionIdLabel"),cell:({getValue:s})=>t.jsx(S,{size:"2xsmall",children:s()})}),l.accessor("state",{header:e("fields.state"),cell:({getValue:s})=>{const o=s(),r=w(o),a=g(e,o);return t.jsx(h,{color:r,children:t.jsx("span",{className:"capitalize",children:a})})}}),l.accessor("execution",{header:e("workflowExecutions.progressLabel"),cell:({getValue:s})=>{var i;const o=(i=s())==null?void 0:i.steps;if(!o)return"0 of 0 steps";const r=Object.values(o).filter(n=>n.id!==D),a=r.filter(n=>n.invoke.state==="done");return e("workflowExecutions.stepsCompletedLabel",{completed:a.length,count:r.length})}})],[e])},D="_root",I=({pageSize:e=20,prefix:s})=>{const o=P(["q","offset"],s),{offset:r,...a}=o;return{searchParams:{limit:e,offset:r?parseInt(r):0,...a},raw:o}},m=20,N=()=>{const{t:e}=u(),{searchParams:s,raw:o}=I({pageSize:m}),{workflow_executions:r,count:a,isLoading:i,isError:n,error:d}=f({...s,fields:"execution,state"},{placeholderData:C}),p=R(),{table:x}=j({data:r||[],columns:p,count:a,pageSize:m,enablePagination:!0,getRowId:c=>c.id});if(n)throw d;return t.jsxs(v,{className:"divide-y p-0",children:[t.jsx("div",{className:"flex items-center justify-between px-6 py-4",children:t.jsxs("div",{children:[t.jsx(E,{children:e("workflowExecutions.domain")}),t.jsx(k,{className:"text-ui-fg-subtle",size:"small",children:e("workflowExecutions.subtitle")})]})}),t.jsx(b,{table:x,columns:p,count:a,isLoading:i,pageSize:m,navigateTo:c=>`${c.id}`,search:!0,pagination:!0,queryObject:o,noRecords:{message:e("workflowExecutions.list.noRecordsMessage")}})]})},oe=()=>t.jsxs("div",{className:"flex flex-col gap-y-2",children:[L.widgets.map((e,s)=>t.jsx("div",{children:t.jsx(e.Component,{})},s)),t.jsx(N,{}),z.widgets.map((e,s)=>t.jsx("div",{children:t.jsx(e.Component,{})},s))]});export{oe as Component};
