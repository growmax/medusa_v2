import{c as h,d as j}from"./chunk-OPYB3EPU-B_-LG2wj.js";import{v,u as f,j as e,H as y,t as m,I as T}from"./index-7A3rjJyE.js";import{a as r,u as g}from"./chunk-BHGSRQH6-2xCUuk1R.js";import{u as P,F as t}from"./chunk-C7RYT3S3-C_x8NvOf.js";import{t as E}from"./zod-DRKIF09R.js";import{z as p}from"./index-yuYasa5Y.js";import{B as x}from"./label-DDCdtDlT.js";import"./prompt-KZNvJYzq.js";var F=p.object({value:p.string().min(1)}),b=({productType:a})=>{const{t:s}=f(),{handleSuccess:n}=g(),o=P({defaultValues:{value:a.value},resolver:E(F)}),{mutateAsync:i,isPending:c}=j(a.id),l=o.handleSubmit(async d=>{await i({value:d.value},{onSuccess:({product_type:u})=>{m.success(s("productTypes.edit.successToast",{value:u.value})),n()},onError:u=>{m.error(u.message)}})});return e.jsx(r.Form,{form:o,children:e.jsxs("form",{onSubmit:l,className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(r.Body,{className:"flex flex-1 flex-col gap-y-8 overflow-y-auto",children:e.jsx(t.Field,{control:o.control,name:"value",render:({field:d})=>e.jsxs(t.Item,{children:[e.jsx(t.Label,{children:s("productTypes.fields.value")}),e.jsx(t.Control,{children:e.jsx(T,{...d})}),e.jsx(t.ErrorMessage,{})]})})}),e.jsx(r.Footer,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(r.Close,{asChild:!0,children:e.jsx(x,{size:"small",variant:"secondary",children:s("actions.cancel")})}),e.jsx(x,{size:"small",type:"submit",isLoading:c,children:s("actions.save")})]})})]})})},R=()=>{const{id:a}=v(),{t:s}=f(),{product_type:n,isPending:o,isError:i,error:c}=h(a),l=!o&&!!n;if(i)throw c;return e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsx(y,{children:s("productTypes.edit.header")})}),l&&e.jsx(b,{productType:n})]})};export{R as Component};
