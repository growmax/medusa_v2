import{C as f}from"./chunk-OEMJBX6M-Cay2DnS9.js";import{d as j,k as v}from"./chunk-YBHG7T6S-BleHOTgO.js";import{v as g,u as p,J as y,j as e,H as C,I as P}from"./index-7A3rjJyE.js";import{a as n,u as F}from"./chunk-BHGSRQH6-2xCUuk1R.js";import{u as b,F as o}from"./chunk-C7RYT3S3-C_x8NvOf.js";import{t as w}from"./zod-DRKIF09R.js";import{z as l}from"./index-yuYasa5Y.js";import{B as u}from"./label-DDCdtDlT.js";import"./index-Cy4zQj6C.js";import"./motion-UqVoX3oU.js";import"./x-mark-mini-Di7jARRp.js";import"./chunk-DMYZ6SLX-BMyt3Z-P.js";import"./prompt-KZNvJYzq.js";var I=l.object({title:l.string().min(1),values:l.array(l.string()).optional()}),S=({option:i})=>{const{t:r}=p(),{handleSuccess:d}=F(),t=b({defaultValues:{title:i.title,values:i.values.map(s=>s.value)},resolver:w(I)}),{mutateAsync:a,isPending:c}=v(i.product_id,i.id),m=t.handleSubmit(async s=>{a({id:i.id,...s},{onSuccess:()=>{d()}})});return e.jsx(n.Form,{form:t,children:e.jsxs("form",{onSubmit:m,className:"flex flex-1 flex-col overflow-hidden",children:[e.jsxs(n.Body,{className:"flex flex-1 flex-col gap-y-4 overflow-auto",children:[e.jsx(o.Field,{control:t.control,name:"title",render:({field:s})=>e.jsxs(o.Item,{children:[e.jsx(o.Label,{children:r("products.fields.options.optionTitle")}),e.jsx(o.Control,{children:e.jsx(P,{...s,placeholder:r("products.fields.options.optionTitlePlaceholder")})}),e.jsx(o.ErrorMessage,{})]})}),e.jsx(o.Field,{control:t.control,name:"values",render:({field:{...s}})=>e.jsxs(o.Item,{children:[e.jsx(o.Label,{children:r("products.fields.options.variations")}),e.jsx(o.Control,{children:e.jsx(f,{...s,placeholder:r("products.fields.options.variantionsPlaceholder")})}),e.jsx(o.ErrorMessage,{})]})})]}),e.jsx(n.Footer,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(n.Close,{asChild:!0,children:e.jsx(u,{variant:"secondary",size:"small",children:r("actions.cancel")})}),e.jsx(u,{type:"submit",size:"small",isLoading:c,children:r("actions.save")})]})})]})})},$=()=>{const{id:i,option_id:r}=g(),{t:d}=p(),{product:t,isLoading:a,isError:c,error:m}=j(i),s=t==null?void 0:t.options.find(h=>h.id===r),x=!a&&s;if(!a&&!s)throw y({message:`An option with ID ${r} was not found`},404);if(c)throw m;return e.jsxs(n,{children:[e.jsx(n.Header,{children:e.jsx(C,{children:d("products.options.edit.header")})}),x&&e.jsx(S,{option:s})]})};export{$ as Component};
